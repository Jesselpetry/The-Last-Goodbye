# คู่มือการใช้งาน The Last Goodbye 📖

คู่มือนี้อธิบายการใช้งานระบบ The Last Goodbye สำหรับเจ้าของระบบ (Admin)

## 🏠 หน้าหลัก

### เข้าสู่ระบบ Admin
1. เปิด URL ของเว็บไซต์ เช่น `https://your-domain.com`
2. คลิกที่ปุ่ม "เข้าสู่ระบบ Admin"
3. จะเข้าสู่หน้า Dashboard ของ Admin

---

## 📊 Dashboard

Dashboard แสดงภาพรวมของจดหมายทั้งหมด:

### สถานะจดหมาย
- **🔒 ยังไม่มีใครสแกน**: ไม่มีใครสแกน QR Code เลย
- **👀 สแกนแล้ว แต่ยังไม่เปิด**: มีคนสแกนแล้ว แต่ยังไม่ใส่รหัสถูกต้อง
- **✅ เปิดอ่านแล้ว**: มีคนใส่รหัสถูกและอ่านจดหมายแล้ว

### ข้อมูลที่แสดง
- จำนวนจดหมายทั้งหมด
- จำนวนที่เปิดอ่านแล้ว
- จำนวนที่สแกนแล้ว (รอเปิด)
- จำนวนที่ยังไม่มีใครสแกน

---

## 👥 จัดการเพื่อน

### เพิ่มเพื่อนใหม่
1. คลิก "➕ เพิ่มเพื่อนใหม่"
2. กรอกข้อมูล:
   - **ชื่อเพื่อน**: ชื่อที่จะแสดงในจดหมาย เช่น "น้องมิ้นท์"
   - **Slug (URL)**: ส่วนท้ายของ URL เช่น `mint` จะได้ URL เป็น `your-domain.com/mint`
   - **รหัสผ่าน 4 หลัก**: รหัสที่เพื่อนต้องใส่เพื่อเปิดอ่าน
   - **URL รูปภาพ**: (ไม่บังคับ) ลิงก์รูปภาพที่จะแสดงในจดหมาย
   - **เนื้อหาจดหมาย**: ข้อความในจดหมาย

### แก้ไขข้อมูล
1. คลิก "✏️ แก้ไข" ที่การ์ดของเพื่อนที่ต้องการ
2. แก้ไขข้อมูลตามต้องการ
3. คลิก "บันทึกการแก้ไข"

### ลบเพื่อน
1. คลิก "🗑️ ลบ" ที่การ์ดของเพื่อนที่ต้องการ
2. คลิก "ยืนยัน" เพื่อลบ (ข้อมูลจะลบถาวร รวมถึง Logs ทั้งหมด)

---

## 🕵️ Spy Logs / Analytics

หน้านี้แสดงข้อมูลการเข้าชมทั้งหมด

### ข้อมูลที่บันทึก
- **เวลา**: เวลาที่สแกน (เวลาไทย GMT+7)
- **อุปกรณ์**: ประเภท (มือถือ/แท็บเล็ต/คอมพิวเตอร์) และรุ่น
- **Browser**: เบราว์เซอร์ที่ใช้เปิด
- **OS**: ระบบปฏิบัติการ
- **IP Address**: หมายเลข IP ของผู้เข้าชม

### การตีความข้อมูล Browser

| Browser | ความหมาย |
|---------|----------|
| 💬 Line | สแกนผ่านแอป Line โดยตรง (เปิดใน Line browser) |
| 📷 Instagram | สแกนผ่านแอป Instagram (เปิดใน IG browser) |
| 👤 Facebook | สแกนผ่านแอป Facebook |
| 🌐 Chrome | เปิดผ่าน Chrome browser |
| 🧭 Safari | เปิดผ่าน Safari (iPhone/Mac) |
| 🦊 Firefox | เปิดผ่าน Firefox |

### การตีความ IP Address

- **IP เดิมซ้ำๆ**: อาจเป็นคนเดียวกันสแกนหลายครั้ง
- **IP เปลี่ยนไปเรื่อยๆ**: ถ้าใช้ 4G/5G IP อาจเปลี่ยนได้บ่อย
- **IP ตัวเอง**: ตอนทดสอบ ระบบจะบันทึก IP ของคุณด้วย ให้จำไว้ว่าอันไหนเป็นของตัวเอง

### กรองข้อมูล
- คลิกที่ชื่อเพื่อนเพื่อดูเฉพาะ logs ของคนนั้น
- คลิก "ทั้งหมด" เพื่อดู logs ของทุกคน

---

## 🎴 การสร้าง QR Code

### วิธีสร้าง QR Code
1. เปิดเว็บ [qr-code-generator.com](https://www.qr-code-generator.com) หรือเว็บสร้าง QR อื่นๆ
2. ใส่ URL ของเพื่อน เช่น `https://your-domain.com/mint`
3. ดาวน์โหลด QR Code
4. พิมพ์หรือส่งให้เพื่อน

### เคล็ดลับ
- ทำการ์ดสวยๆ ใส่ชื่อเพื่อนและรหัส 4 หลักลงไปด้วย
- อาจจะใส่ข้อความเช่น "สแกนเพื่อเปิดจดหมายจากฉัน 💌"

---

## 📱 ประสบการณ์ของเพื่อนที่สแกน

### ขั้นตอนที่เพื่อนจะเจอ

1. **สแกน QR Code**
   - ระบบจะบันทึกการเข้าชมทันที (Silent logging)
   
2. **หน้า Countdown** (ก่อน 20 ก.พ. 2026)
   - เห็นนาฬิกานับถอยหลัง
   - แสดงวันเวลาที่จดหมายจะเปิด
   
3. **หน้าใส่รหัส** (หลัง 20 ก.พ. 2026 เวลา 21:00)
   - ใส่รหัส 4 หลักที่ให้ไว้
   - ถ้าใส่ผิด จะขึ้น "รหัสผ่านไม่ถูกต้อง"
   
4. **หน้าจดหมาย**
   - แสดงจดหมายพร้อมรูปภาพ (ถ้ามี)
   - ใช้ฟอนต์ลายมือ "Mali"

---

## 💡 เคล็ดลับสำหรับ Admin

### 1. ทดสอบก่อนใช้จริง
- สร้างเพื่อนทดสอบเพื่อเช็คว่าทุกอย่างทำงานถูกต้อง
- สแกน QR ด้วยตัวเอง และลองใส่รหัส
- เช็ค Spy Logs ว่าบันทึกถูกต้อง

### 2. การดู Logs ของตัวเอง
- ตอนทดสอบ ระบบจะบันทึกของคุณด้วย
- จำเวลาที่ทดสอบไว้ เพื่อแยกว่า log ไหนเป็นของตัวเอง
- IP ของคุณอาจซ้ำกับเพื่อนได้ ถ้าใช้ Wi-Fi เดียวกัน

### 3. In-App Browser
- เพื่อนส่วนใหญ่จะสแกนผ่าน Line/IG โดยตรง
- Browser จะขึ้นว่า "Line" หรือ "Instagram" ซึ่งปกติ
- บางครั้งอาจขึ้นว่า "WebView" ก็เป็น in-app browser เหมือนกัน

### 4. IP Address
- ถ้าใช้ 4G/5G → IP อาจเปลี่ยนทุกครั้งที่เชื่อมต่อใหม่
- ถ้าใช้ Wi-Fi บ้าน → IP จะนิ่งกว่า
- ไม่ต้องกังวลถ้าเห็น IP ต่างกันจากคนเดียวกัน

### 5. Device Detection
- อุปกรณ์บางรุ่นอาจแสดงเป็น "Unknown"
- ส่วนใหญ่ iPhone จะระบุชัดเจนกว่า Android
- ดูจาก OS จะช่วยระบุได้ว่าเป็น iOS หรือ Android

---

## ❓ คำถามที่พบบ่อย

### Q: ทำไมบาง log ขึ้น Browser เป็น Unknown?
A: บาง browser หรือ app อาจส่ง User-Agent ที่ระบบอ่านไม่ได้ เป็นเรื่องปกติ

### Q: ทำไมมี log เยอะจากคนเดียวกัน?
A: อาจเกิดจาก:
- เพื่อนกดรีเฟรชหน้า
- เพื่อนเปิดลิงก์หลายครั้ง
- เพื่อนส่งต่อลิงก์ให้คนอื่น

### Q: จะรู้ได้ยังไงว่าเพื่อนอ่านจดหมายจริงๆ?
A: ดูจากสถานะ "✅ เปิดอ่านแล้ว" ใน Dashboard ซึ่งจะเปลี่ยนเมื่อใส่รหัสถูกต้องเท่านั้น

### Q: เปลี่ยนวันเวลาเปิดได้ไหม?
A: ได้ แต่ต้องแก้ไขในโค้ด (ไฟล์ `components/FriendPageClient.tsx` ตรง `TARGET_DATE`)

---

## 📞 ติดต่อ Support

หากพบปัญหาหรือต้องการความช่วยเหลือ ติดต่อผู้พัฒนา

---

ขอให้สนุกกับการส่งความทรงจำให้เพื่อนๆ นะคะ/ครับ! 💕
